<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Summary</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h2>Daily Football Stats</h2>
    <button onclick="window.location.href='index.html'">Back</button>
    <div id="players"></div>

    <script>

        // Import Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, doc, getDoc, getDocs, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
const firebaseConfig = {
  apiKey: "AIzaSyBSmR68M_nNvbJwY4rCWpJw6B2AJrh6XwQ",
  authDomain: "aj-stats-tracker.firebaseapp.com",
  projectId: "aj-stats-tracker",
  storageBucket: "aj-stats-tracker.firebasestorage.app",
  messagingSenderId: "78394536850",
  appId: "1:78394536850:web:0ee4edf615d97e7e11874b",
  measurementId: "G-S2RT53LTXX"
};

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const date = new URLSearchParams(window.location.search).get('date');

        async function renderDailySummary() {
            const playersSnap = await db.collection("players").get();
            let container = document.getElementById("players");
            container.innerHTML = "";

            for (const doc of playersSnap.docs) {
                const player = doc.id;
                const statDoc = await db.collection("stats").doc(`${date}-${player}`).get();
                const stats = statDoc.exists ? statDoc.data() : { goals: 0, assists: 0, defense: 0, present: false };

                container.innerHTML += `
                    <div>
                        <strong>${player}</strong>: Goals: ${stats.goals}, Assists: ${stats.assists}, Defense: ${stats.defense}, Present: ${stats.present ? 'Yes' : 'No'}
                    </div>
                `;
            }
        }

        renderDailySummary();
    </script>

</body>
</html>
